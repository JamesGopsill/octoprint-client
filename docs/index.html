<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>octoprint-client</title><meta name="description" content="Documentation for octoprint-client"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">octoprint-client</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>octoprint-client</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#octoprint-client" id="octoprint-client" style="color: inherit; text-decoration: none;">
  <h1>OctoPrint Client</h1>
</a>
<p>The client has been developed as part of a research programme investigating agent-based manufacturing systems. It is isomorphic and able to both server (Node.js) and client-side (Browser).</p>

<a href="#using-octoprint-client" id="using-octoprint-client" style="color: inherit; text-decoration: none;">
  <h2>Using octoprint-client</h2>
</a>
<p>To install the package, use the following code. I am aiming to put it onto npm soon.</p>
<pre><code><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> </span><span class="hl-2">https</span><span class="hl-1">:</span><span class="hl-3">//github.com/JamesGopsill/octoprint-client</span>
</code></pre>
<p>You can then use in your code via by importing</p>
<pre><code class="language-typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-0">OctoPrintClient</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-5">&quot;octoprint-client&quot;</span><br/><br/><span class="hl-3">// Create a new client.</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">client</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-8">OctoPrintClient</span><span class="hl-1">(</span><span class="hl-5">&quot;OCTOPRINT_URL&quot;</span><span class="hl-1">, </span><span class="hl-5">&quot;API_KEY&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Retrieve the name of your printer.</span><br/><span class="hl-4">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">versionInfo</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">client</span><span class="hl-1">.</span><span class="hl-8">getVersionInformation</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-0">versionInfo</span><span class="hl-1">)</span><br/><span class="hl-1">} </span><span class="hl-4">catch</span><span class="hl-1"> (</span><span class="hl-0">res</span><span class="hl-1">) { </span><br/><span class="hl-1">    </span><span class="hl-3">// Promise reject will most likely return the response that resulted in the error.</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-8">log</span><span class="hl-1">(</span><span class="hl-0">res</span><span class="hl-1">)</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#testing" id="testing" style="color: inherit; text-decoration: none;">
  <h2>Testing</h2>
</a>
<p>To test the client, we use the OctoPrint docker image and spin up a local instance that the client can interface with. To spin up an instance, you will need docker installed. Then simply go <code>cd</code> into the tests directory and run:</p>
<pre><code><span class="hl-0">docker</span><span class="hl-1">-</span><span class="hl-0">compose</span><span class="hl-1"> </span><span class="hl-0">up</span>
</code></pre>
<p>To create the Octoprint instance that can be accessed via <code>http://localhost</code>. You will need configure octoprint the first time you run the container. Once configured, you can access the api key from the settings menu in OctoPrint. You will then need to create a <code>test.config.ts</code> file in the tests folder (ignored by .gitignore) to add the parameters in to create the client during the tests. The file should contain the following:</p>
<pre><code class="language-typescript"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">url</span><span class="hl-1"> = </span><span class="hl-5">&quot;ADD URL&quot;</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">apiKey</span><span class="hl-1"> = </span><span class="hl-5">&quot;ADD API KEY&quot;</span>
</code></pre>

<a href="#client-docs" id="client-docs" style="color: inherit; text-decoration: none;">
  <h2>Client Docs</h2>
</a>
<p>The docs have been produced using <a href="https://typedoc.org/">TypeDoc</a> and can be accessed <a href="https://jamesgopsill.github.io/octoprint-client/">here</a>.</p>

<a href="#contributing" id="contributing" style="color: inherit; text-decoration: none;">
  <h2>Contributing</h2>
</a>
<p>We would love to have additional contributors to the project to help us maintain and add functionality to the project.</p>

<a href="#support-the-project" id="support-the-project" style="color: inherit; text-decoration: none;">
  <h2>Support the Project</h2>
</a>
<p>The project has been supported by the <a href="https://gow.epsrc.ukri.org/NGBOViewGrant.aspx?GrantRef=EP/V05113X/1">EPSRC-funded Brokering Additive Manufacturing project (EP/V05113X/1)</a>. More details on the project can be found at the <a href="https://dmf-lab.co.uk/">Design Manufacturing Futures Lab</a> website.</p>
<p>To donate and provide continued support, please go to <strong>[TODO]</strong>.</p>

<a href="#references" id="references" style="color: inherit; text-decoration: none;">
  <h2>References</h2>
</a>
<ul>
<li><a href="https://dmf-lab.co.uk/brokering-additive-manufacturing/">Brokering Additive Manufacturing</a></li>
<li><a href="https://octoprint.org/">OctoPrint</a></li>
<li><a href="https://hub.docker.com/r/octoprint/octoprint">OctoPrint on Docker Hub</a></li>
<li><a href="https://tanutaran.medium.com/solving-git-lf-will-be-replaced-by-crlf-7ca84eb0aad4">Git autocrlf</a></li>
</ul>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="modules/OctoPrintGeneralEndpoints.html">Octo<wbr/>Print<wbr/>General<wbr/>Endpoints</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/OctoPrintClient.html" class="tsd-kind-icon">Octo<wbr/>Print<wbr/>Client</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>